(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5564a85c"],{"159b":function(e,t,a){var n=a("da84"),r=a("fdbc"),c=a("17c2"),i=a("9112");for(var s in r){var o=n[s],d=o&&o.prototype;if(d&&d.forEach!==c)try{i(d,"forEach",c)}catch(l){d.forEach=c}}},"17c2":function(e,t,a){"use strict";var n=a("b727").forEach,r=a("a640"),c=a("ae40"),i=r("forEach"),s=c("forEach");e.exports=i&&s?[].forEach:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}},4160:function(e,t,a){"use strict";var n=a("23e7"),r=a("17c2");n({target:"Array",proto:!0,forced:[].forEach!=r},{forEach:r})},4774:function(e,t,a){},a623:function(e,t,a){"use strict";var n=a("23e7"),r=a("b727").every,c=a("a640"),i=a("ae40"),s=c("every"),o=i("every");n({target:"Array",proto:!0,forced:!s||!o},{every:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},a640:function(e,t,a){"use strict";var n=a("d039");e.exports=function(e,t){var a=[][e];return!!a&&n((function(){a.call(null,t||function(){throw 1},1)}))}},b727:function(e,t,a){var n=a("0366"),r=a("44ad"),c=a("7b0b"),i=a("50c4"),s=a("65f0"),o=[].push,d=function(e){var t=1==e,a=2==e,d=3==e,l=4==e,u=6==e,h=7==e,f=5==e||u;return function(m,v,k,b){for(var p,g,y=c(m),S=r(y),x=n(v,k,3),O=i(S.length),L=0,_=b||s,C=t?_(m,O):a||h?_(m,0):void 0;O>L;L++)if((f||L in S)&&(p=S[L],g=x(p,L,y),e))if(t)C[L]=g;else if(g)switch(e){case 3:return!0;case 5:return p;case 6:return L;case 2:o.call(C,p)}else switch(e){case 4:return!1;case 7:o.call(C,p)}return u?-1:d||l?l:C}};e.exports={forEach:d(0),map:d(1),filter:d(2),some:d(3),every:d(4),find:d(5),findIndex:d(6),filterOut:d(7)}},c205:function(e,t,a){"use strict";a("4774")},c975:function(e,t,a){"use strict";var n=a("23e7"),r=a("4d64").indexOf,c=a("a640"),i=a("ae40"),s=[].indexOf,o=!!s&&1/[1].indexOf(1,-0)<0,d=c("indexOf"),l=i("indexOf",{ACCESSORS:!0,1:0});n({target:"Array",proto:!0,forced:o||!d||!l},{indexOf:function(e){return o?s.apply(this,arguments)||0:r(this,e,arguments.length>1?arguments[1]:void 0)}})},dbb5:function(e,t,a){e.exports=a.p+"img/back.25b4a4d6.png"},eb54:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"game-interface"},[n("link",{attrs:{href:"https://fonts.googleapis.com/css2?family=Roboto&display=swap",rel:"stylesheet"}}),!0===e.finished?n("div",["won"==e.victor?n("div",{staticClass:"end-text"},[e._v("You Have Won!!!")]):"tie"==e.victor?n("div",{staticClass:"end-text"},[e._v(" You Have Tied With Someone! ")]):"lost"==e.victor?n("div",{staticClass:"end-text"},[e._v(" You Have Lost :( ")]):e._e(),n("button",{on:{click:e.playAgain}},[e._v("Play Again?")])]):e._e(),e._l(e.players,(function(t,r){return n("div",{key:r,staticClass:"players game-text"},[1==t.turnOrder&&t.name!==e.name?n("div",{staticClass:"game-text"},[e._v(" "+e._s(t.name)+"'s Turn ")]):1==t.turnOrder&&t.name===e.name?n("div",{staticClass:"game-text"},[e._v(" Your Turn ")]):e._e(),1!=t.turnOrder&&t.name==e.name&&!0!==e.finished?n("div",{staticClass:"game-text"},[e._v(" Waiting for a player... ")]):e._e(),t.name!==e.name&&!0!==e.finished?n("div",{staticClass:"game-text"},[e._v(" "+e._s(t.name)+" "),n("br"),e._v(" Score: ??? ")]):n("div",{staticClass:"game-text"},[e._v(" You "),n("br"),e._v(" Score: "+e._s(t.cardScore)+" ")]),t.blackJack&&t.name===e.name?n("div",{staticClass:"game-text"},[e._v(" BlackJack!!! ")]):e._e(),t.busted&&t.name===e.name?n("div",{staticClass:"game-text"},[e._v(" Busted!!! ")]):e._e(),n("div",{staticClass:"card-hand"},e._l(t.hand,(function(r,c){return n("div",{key:r.code},[0===c&&t.name!==e.name&&!0!==e.finished?n("img",{staticClass:"card-image",attrs:{src:a("dbb5"),alt:"back",id:"card-back"}}):n("img",{staticClass:"card-image",attrs:{src:r.image,alt:r.code,id:"card-front"}})])})),0),!0===e.canHit&&t.name==e.name&&1===t.turnOrder&&!0!==e.busted&&!0!==e.blackJack&&!0!==e.finished?n("button",{on:{click:function(a){return e.hit(t)}}},[e._v(" Hit ")]):e._e(),!0===e.canHit&&t.name==e.name&&1===t.turnOrder&&!1===t.played&&!0!==e.finished||!0===t.busted&&t.name===e.name&&!1===t.played&&1===t.turnOrder&&!0!==e.finished||!0!==t.blackJack&&t.name===e.name&&!1===t.played&&1===t.turnOrder&&!0!==e.finished?n("button",{on:{click:function(a){return e.stand(t)}}},[e._v(" Stand ")]):e._e()])}))],2)])},r=[],c=(a("a623"),a("4160"),a("c975"),a("a434"),a("b0c0"),a("159b"),a("96cf"),a("1da1")),i=a("dc59"),s=a("c2e9"),o={name:"Game",data:function(){return{blackJack:!1,cardScore:0,code:"",master:"",name:"",deck:s["a"],canHit:!1,busted:!1,played:!1,finished:!0,victor:!1,players:[],lobby:"../../views/Lobbies/BlackJackLobby.vue",i:0,gameStarted:!1}},mounted:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.code=e.$route.params.data.code,e.name=e.$route.params.data.name,e.master=e.$route.params.data.master,t.next=5,i["b"].collection("games").doc("blackjack".concat(e.code));case 5:a=t.sent,a.onSnapshot((function(t){var a=t.data();e.deck=a.deck,e.players=a.gamePlayers,e.finished=a.finished,a.gamePlayers.forEach((function(t){1===t.turnOrder&&(t.canHit=!0,t.name==e.name&&(e.canHit=!0,e.cardScore=t.cardScore))})),0===e.i&&!0===a.finished&&(e.i=e.i+1,e.determineWinner())})),!0===e.master&&a.get().then((function(t){var n=t.data().gamePlayers;e.randomizeOrder(n),n.forEach((function(t){for(var a=0;a<2;a++){var n=e.deck[e.randomDeck()];t.hand.push(n);var r=t.hand.length-1,c=e.deck.indexOf(t.hand[r]);e.deck.splice(c,1),t.cardScore+=n.blackjack,e.check(t)}})),a.update({deck:e.deck,gamePlayers:n})}));case 8:case"end":return t.stop()}}),t)})))()},methods:{randomDeck:function(){return Math.floor(Math.random()*this.deck.length)},hit:function(e){var t=this.deck[this.randomDeck(e)];e.hand.push(t);var a=e.hand.length-1,n=this.deck.indexOf(e.hand[a]);this.deck.splice(n,1),e.cardScore+=e.hand[e.hand.length-1].blackjack,e.hand.forEach((function(t){"ACE"===t.value&&e.cardScore>=21&&1!=t.blackjack&&(e.cardScore-=t.blackjack,t.blackjack=1,e.cardScore+=t.blackjack)})),this.check(e)},stand:function(e){e.stand=!0,this.check(e)},check:function(e){var t=this;function a(e){return!0===e.played}e.cardScore>21&&e.name===this.name?(this.canHit=!1,this.busted=!0,e.canHit=!1,e.busted=!0):21===e.cardScore&&e.name===this.name&&(this.canHit=!1,this.blackJack=!0,e.canHit=!1,e.blackJack=!0),1==e.stand&&(this.canHit=!1,this.played=!0,e.canHit=!1,e.played=!0),!0===e.played&&this.players.forEach((function(e){e.turnOrder-=1,e.turnOrder<=0&&(e.turnOrder=t.players.length),1!=e.turnOrder||e.played||(e.canHit=!0)})),this.players.every(a)&&(this.finished=!0,this.gameStarted=!1,this.determineWinner()),i["b"].collection("games").doc("blackjack".concat(this.code)).update({gamePlayers:this.players,finished:this.finished,gameStarted:this.gameStarted})},determineWinner:function(){var e=this,t=[],a=!1,n=!1;this.players.forEach((function(r){r.name!==e.name&&(!0===r.blackJack&&(a=!0),!0===r.busted&&(n=!0),!0!==r.busted&&!0!==r.blackJack&&t.push(r.cardScore))})),!0===this.blackJack&&!0===a||!0===this.busted&&!0===n&&!0!==a&&0===t.length||this.cardScore===Math.max(t)===!0&&!0!==a?this.victor="tie":!0===this.blackJack&&!0!==a||this.cardScore>Math.max(t)===!0&&!0!==a&&!0!==this.busted?this.victor="won":this.victor="lost",this.players.forEach((function(t){t.name===e.name&&(t.victor=e.victor)})),i["b"].collection("games").doc("blackjack".concat(this.code)).update({gamePlayers:this.players})},randomizeOrder:function(e){for(var t=e.length,a=[],n=1;n<=t;n++)a.push(n);e.forEach((function(e){var t=Math.floor(Math.random()*a.length);e.turnOrder=a[t],a.splice(t,1)}))},playAgain:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i["b"].collection("games").doc("blackjack".concat(e.code));case 2:a=t.sent,a.get().then((function(t){var n=t.data().lobby.lobbyPlayers;n.push({master:e.master,name:e.name}),a.update({lobby:{lobbyPlayers:n}},{merge:!0})})),n={name:e.name,code:e.code,master:e.master},e.$router.push({name:"BlackjackRoom",params:{data:n}});case 6:case"end":return t.stop()}}),t)})))()}}},d=o,l=(a("c205"),a("2877")),u=Object(l["a"])(d,n,r,!1,null,"193c7891",null);t["default"]=u.exports},fdbc:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=chunk-5564a85c.f37a16fb.js.map